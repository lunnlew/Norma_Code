language: php

php:
  - 5.3
  - 5.4

before_install:true

install:true

before_script:
  - composer self-update
  - composer install -n --dev --prefer-source

script:
  ## PHP_CodeSniffer
  - scripts/bin/phpcs --standard=PSR2 --ignore="src/Norma/Vendor/*" src/Norma
  ## PHP Copy/Paste Detector
  - scripts/bin/phpcpd --verbose --exclude src/Norma/Vendor src/Norma
  ## PHP Mess Detector
  - scripts/bin/phpmd src/Norma text cleancode --exclude src/Norma/Vendor
  - scripts/bin/phpmd src/Norma text codesize --exclude src/Norma/Vendor
  - scripts/bin/phpmd src/Norma text controversial --exclude src/Norma/Vendor
  - scripts/bin/phpmd src/Norma text design --exclude src/Norma/Vendor
  - scripts/bin/phpmd src/Norma text naming --exclude src/Norma/Vendor
  - scripts/bin/phpmd src/Norma text unusedcode --exclude src/Norma/Vendor
  ## PHPLOC
  - scripts/bin/phploc --exclude src/Norma/Vendor src/Norma
  ## PHPUNIT
  - scripts/bin/phpunit --coverage-clover=coverage.xml
  ## LINT
  - find ./ -type f -name \*.php -exec php -l {} \;

  - scripts/bin/run-tests.sh

   # - pear channel-discover pear.phpdoc.org
   # - pear install phpdoc/phpDocumentor

after_success:true
 # - bash <(curl -s https://codecov.io/bash)
before_deploy:true

deploy:true

after_deploy:true

after_script:true
